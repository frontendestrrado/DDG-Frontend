{"version":3,"sources":["webpack:///src/views/ChangePassword.vue","webpack:///./src/views/ChangePassword.vue?5f10","webpack:///./src/views/ChangePassword.vue"],"names":["ChangePassword","name","data","form","phone","columns","showPickerAreaCode","areaCode","phoneList","verify_code","isSms","created","methods","onConfirm","value","this","showPicker","sendCode","_this","split","type","$axios","method","url","then","res","console","log","state_code","$toast","message","vm","setTimeout","catch","err","verifyCode","values","_this2","phoneInfo","params","$router","push","secret","views_ChangePassword","render","_vm","_h","$createElement","_c","_self","on","submit","attrs","readonly","clickable","label","center","required","rules","placeholder","click","$event","_v","round","position","model","callback","$$v","expression","show-toolbar","confirm-button-text","cancel-button-text","cancel","confirm","$set","staticClass","slot","native-type","disabled","staticStyle","margin","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.dd3f7f1fecaecf13b4cc.js","sourcesContent":["<template>\n<div>\n  <van-form @submit=\"verifyCode\">\n    <van-field\n      readonly\n      clickable\n      label=\"Area Code\"\n      center\n      :required=\"true\"\n      :rules=\"[{ required: true }]\"\n      :value=\"areaCode\"\n      placeholder=\"Area Code\"\n      @click=\"showPickerAreaCode = true\"\n    />\n    <van-popup v-model=\"showPickerAreaCode\" round position=\"bottom\">\n      <van-picker\n        show-toolbar\n        :columns=\"columns\"\n        confirm-button-text=\"Confirm\"\n        cancel-button-text=\"Cancel\"\n        @cancel=\"showPickerAreaCode = false\"\n        @confirm=\"onConfirm\"\n      />\n    </van-popup>\n    <van-field\n      v-model=\"form.phone\"\n      name=\"Mobile Number\"\n      center\n      :required=\"true\"\n      type=\"text\"\n      label=\"Mobile Number\"\n      placeholder=\"Please enter the Mobile Number\"\n      :rules=\"[{ required: true}]\"\n    >\n      <van-button\n        class=\"SMSconfirm\"\n        slot=\"button\"\n        native-type=\"button\"\n        :disabled=\"phoneList.isSms\"\n        @click=\"sendCode()\"\n      >Send Code</van-button\n      >\n    </van-field>\n\n    <van-field\n      v-model=\"phoneList.verify_code\"\n      center\n      :required=\"true\"\n      label=\"Verification Code\"\n      placeholder=\"Verification Code\"\n      :rules=\"[{ required: true}]\"\n    />\n    <div style=\"margin: 16px;\">\n      <van-button round block type=\"info\" native-type=\"submit\" class=\"loginBtn\">Submit</van-button>\n    </div>\n  </van-form>\n</div>\n</template>\n\n<script>\nimport {Toast} from \"vant\";\n\nexport default {\n  name: \"ChangePassword\",\n  data() {\n    return {\n      form: {\n        phone: null,\n\n      },\n      columns: [\"60 Malaysia\", \"86 China\", \"852 Hong Kong\", \"886 Taiwan\"],\n      showPickerAreaCode: false,//地區碼選項卡是否彈出\n      areaCode: \"\",//國際區號\n      phoneList: {//短信數據\n        verify_code: \"\",\n        isSms: false,\n      },\n    }\n  },\n  created() {\n\n  },\n  methods: {\n    onConfirm(value) {\n      this.areaCode = value;\n      this.showPicker = false;\n      this.showPickerAreaCode = false\n    },\n    // 获取验证码\n    sendCode() {\n      if (!this.phoneList.isSms) {\n        if (this.form.phone) {\n          var data = { phone: this.areaCode.split(' ')[0] + this.form.phone ,type: 'forget_password'}\n          this.$axios({\n            method: \"POST\",\n            url: \"/api/v1/verify_code\",\n            data\n          })\n            .then((res) => {\n              console.log(res,data);\n              console.log(res,data);\n              if (res.state_code === 200) {\n                this.$toast({\n                  type: \"success\",\n                  message: res.message,\n                });\n                this.phoneList.isSms = true;\n                const vm = this;\n                setTimeout(function () {\n                  vm.phoneList.isSms = false;\n                }, 60000);\n              } else {\n                this.$toast({\n                  type: \"fail\",\n                  message: res.message,\n                });\n              }\n            })\n            .catch((err) => {\n              this.$toast({\n                type: \"fail\",\n                message: \"Failed to obtain the verification code. Procedure\",\n              });\n            });\n        } else {\n          this.$toast(\"Please enter your mobile phone number first\");\n        }\n      }\n    },\n    // 验证验证码\n    verifyCode(values) {\n      console.log(this.areaCode, 333);\n      let phone = this.areaCode.split(' ')[0] + this.form.phone\n      var phoneInfo = {\n        phone: phone,\n        verify_code: this.phoneList.verify_code,\n        type: 'forget_password'\n      };\n      this.$axios({\n        method: \"GET\",\n        url: \"/api/v1/verify_code\",\n        params: phoneInfo\n      })\n        .then((res) => {\n          console.log(res,'返回的值');\n          if (res.state_code === 200) {\n            const vm = this;\n            setTimeout(function () {\n              vm.$router.push({name:'NewPassword',params: {secret: res.secret,phone:phone}})\n              // vm.register(values);\n            }, 600);\n          } else {\n            this.$toast({\n              type: \"fail\",\n              message: res.message,\n            });\n          }\n        })\n        .catch((err) => {\n          this.$toast({\n            type: \"fail\",\n            message: \"Verification code error\",\n          });\n        });\n    },\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nh1 {\n  font-weight: bold;\n  color: rgb(137, 115, 89);\n  font-size: 30px;\n  margin-bottom: 50px;\n  @media screen and (max-width: 768px){\n    font-size: 20px;\n    margin-bottom: 50px;\n  }\n}\n.SMSconfirm {\n  height: 30px;\n  color: #fff;\n  border: none;\n  outline: none;\n  background-color: #bd9e85;\n  font-size: 16px;\n  border-radius: 8px;\n}\n.loginBtn {\n  width: 100%;\n  height: 46px;\n  line-height: 46px;\n  margin-top: 30px;\n  background: #7b655d;\n  color: #fff;\n  border-color: #7b655d;\n  border-radius: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ChangePassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-form',{on:{\"submit\":_vm.verifyCode}},[_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"label\":\"Area Code\",\"center\":\"\",\"required\":true,\"rules\":[{ required: true }],\"value\":_vm.areaCode,\"placeholder\":\"Area Code\"},on:{\"click\":function($event){_vm.showPickerAreaCode = true}}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPickerAreaCode),callback:function ($$v) {_vm.showPickerAreaCode=$$v},expression:\"showPickerAreaCode\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns,\"confirm-button-text\":\"Confirm\",\"cancel-button-text\":\"Cancel\"},on:{\"cancel\":function($event){_vm.showPickerAreaCode = false},\"confirm\":_vm.onConfirm}})],1),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"Mobile Number\",\"center\":\"\",\"required\":true,\"type\":\"text\",\"label\":\"Mobile Number\",\"placeholder\":\"Please enter the Mobile Number\",\"rules\":[{ required: true}]},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}},[_c('van-button',{staticClass:\"SMSconfirm\",attrs:{\"slot\":\"button\",\"native-type\":\"button\",\"disabled\":_vm.phoneList.isSms},on:{\"click\":function($event){return _vm.sendCode()}},slot:\"button\"},[_vm._v(\"Send Code\")])],1),_vm._v(\" \"),_c('van-field',{attrs:{\"center\":\"\",\"required\":true,\"label\":\"Verification Code\",\"placeholder\":\"Verification Code\",\"rules\":[{ required: true}]},model:{value:(_vm.phoneList.verify_code),callback:function ($$v) {_vm.$set(_vm.phoneList, \"verify_code\", $$v)},expression:\"phoneList.verify_code\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{staticClass:\"loginBtn\",attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"Submit\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d2a7da8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ChangePassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d2a7da8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChangePassword.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d2a7da8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangePassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d2a7da8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ChangePassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}