{"version":3,"sources":["webpack:///src/views/performance/performanceDetail.vue","webpack:///./src/views/performance/performanceDetail.vue?0591","webpack:///./src/views/performance/performanceDetail.vue","webpack:///./src/api/performance.js"],"names":["performanceDetail","name","created","_this","this","getPerformance","Object","my_profile","then","res","username","bankAccountName","data","list","fields","key","label","Total","date","sortDesc","json_data","filters","NumFormat","value","toFixed","trunc_default","toString","replace","methods","_this2","performance","$route","query","values_default","map","item","commission","exportPDF","_this3","file_download_default","year","month","performance_performanceDetail","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","_s","Date","toDateString","split","on","click","staticStyle","cursor","attrs","hover","items","sortBy","update:sortDesc","$event","update:sort-desc","scopedSlots","_u","fn","row","_f","total","Math","round","proxy","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","request","url","method","params","responseType","__WEBPACK_IMPORTED_MODULE_0__http_index__"],"mappings":"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","file":"static/js/5.e0153cd7626885298638.js","sourcesContent":["<template>\n<div>\n  <h1 class=\"address\">DDG International Berhad.\n    <br>No. 11-1, 2 & 3, Jalan Kampung Jawa, Off Bagan Luar, 12000 Butterworth, Pulau Pinang.</h1>\n  <h1 class=\"title\">DDG Commission Statement ({{new Date(date).toDateString().split(\" \")[1] + ' ' + new Date(date).toDateString().split(\" \")[3]}})</h1>\n  <div class=\"export\">\n    <h1>Advisor Name: {{username}}</h1>\n      <b-button @click=\"exportPDF\">Export</b-button>\n<!--    <b-button @click=\"exportPDF\">Export</b-button>-->\n  </div>\n  <b-table hover :items=\"list\" style=\"cursor: pointer\" :fields=\"fields\" :sortDesc.sync=\"sortDesc\" sortBy='date'>\n    <template #cell(total)=\"row\">\n      {{ row.item.total | NumFormat}}\n    </template>\n    <template #cell(commission_rate)=\"row\">\n      {{ Math.round((row.item.commission/row.item.total)*10000)/100+'%'}}\n    </template>\n    <template #custom-foot=\"\">\n      <b-tr>\n        <b-td></b-td>\n        <b-td></b-td>\n        <b-td></b-td>\n        <b-td>Total Commission :</b-td>\n        <b-td>{{Total | NumFormat}}</b-td>\n      </b-tr>\n    </template>\n    <template #cell(commission)=\"row\">\n      {{ row.item.commission | NumFormat}}\n    </template>\n  </b-table>\n  <div class=\"footer\">\n    <h1>* All commission calculation based on MYR</h1>\n    <h1>* Attached with your commission report, please update us if any error before 10th of the Month.</h1>\n    <h3>* Commission will be credited  to your personal account (Bank Account Details) Before 15th of the Month.</h3>\n  </div>\n\n</div>\n</template>\n\n<script>\nimport {exportApi, performanceApi} from \"../../api/performance\";\nimport {userApi} from \"../../api/my-profile\";\nimport fileDownload from 'js-file-download'\n\nexport default {\n  name: \"performanceDetail\",\n  created() {\n    this.getPerformance()\n    userApi().then(res => {\n      this.username = res.bankAccountName\n    })\n  },\n  data() {\n    return {\n      list: [],\n      fields: [\n        {key: 'date'},\n        {key: 'settlor_name',label: 'Client Name'},\n        {key: 'total', label: 'Subscription Amount'},\n        'commission_rate',\n        {key: 'commission',label: 'Amount'},\n      ],\n      username: '',\n      Total: 0,\n      date: '',//顶部时间\n      sortDesc: true,\n      json_data: []\n    }\n  },\n  filters: {\n    /**\n     * 金錢加分隔符\n     * @param value\n     * @returns {string}\n     * @constructor\n     */\n    NumFormat(value) {\n      value = value*1\n      if(!value) return '0'\n      value = value.toFixed(2)\n      let intPart = Math.trunc(value)// 获取整数部分\n      return intPart.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,') // 将整数部分逢三一断\n    }\n  },\n  methods: {\n    /**\n     * 獲取數據\n     */\n      getPerformance() {\n        performanceApi(this.$route.query).then(res => {\n          this.list = Object.values(res.data)\n          this.date = this.list[0].date\n          this.list.map(item => {\n            this.Total += item.commission*1\n          })\n        })\n      },\n    /**\n     * 導出pdf\n     */\n    exportPDF() {\n      exportApi(this.$route.query).then(res => {\n        fileDownload(res,this.$route.query.year + '-' + this.$route.query.month+'.xls')\n      })\n    }\n  },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.export {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1vw;\n  align-items: center;\n  h1 {\n    margin-left: 5.33vw;\n    font-weight: bold;\n    font-size: 1vw;\n  }\n  button {\n    margin-right: 5vw;\n  }\n}\n.title {\n  font-size: 2.5vw;\n  font-weight: bold;\n  margin-bottom: 2.67vw;\n}\n.footer {\n  text-align: start;\n  margin-left: 2.67vw;\n h1,h3 {\n   line-height: 2vw;\n   font-size: 1vw;\n   @media screen and (max-width: 500px) {\n     line-height: 5vw;\n   }\n }\n}\n.address {\n  font-size: 1.5vw;\n  font-weight: bold;\n  margin-bottom: 4vw;\n  margin-top: 1vw;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/performance/performanceDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('h1',{staticClass:\"title\"},[_vm._v(\"DDG Commission Statement (\"+_vm._s(new Date(_vm.date).toDateString().split(\" \")[1] + ' ' + new Date(_vm.date).toDateString().split(\" \")[3])+\")\")]),_vm._v(\" \"),_c('div',{staticClass:\"export\"},[_c('h1',[_vm._v(\"Advisor Name: \"+_vm._s(_vm.username))]),_vm._v(\" \"),_c('b-button',{on:{\"click\":_vm.exportPDF}},[_vm._v(\"Export\")])],1),_vm._v(\" \"),_c('b-table',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"hover\":\"\",\"items\":_vm.list,\"fields\":_vm.fields,\"sortDesc\":_vm.sortDesc,\"sortBy\":\"date\"},on:{\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event}},scopedSlots:_vm._u([{key:\"cell(total)\",fn:function(row){return [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"NumFormat\")(row.item.total))+\"\\n    \")]}},{key:\"cell(commission_rate)\",fn:function(row){return [_vm._v(\"\\n      \"+_vm._s(Math.round((row.item.commission/row.item.total)*10000)/100+'%')+\"\\n    \")]}},{key:\"custom-foot\",fn:function(){return [_c('b-tr',[_c('b-td'),_vm._v(\" \"),_c('b-td'),_vm._v(\" \"),_c('b-td'),_vm._v(\" \"),_c('b-td',[_vm._v(\"Total Commission :\")]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(_vm._f(\"NumFormat\")(_vm.Total)))])],1)]},proxy:true},{key:\"cell(commission)\",fn:function(row){return [_vm._v(\"\\n      \"+_vm._s(_vm._f(\"NumFormat\")(row.item.commission))+\"\\n    \")]}}])}),_vm._v(\" \"),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"address\"},[_vm._v(\"DDG International Berhad.\\n    \"),_c('br'),_vm._v(\"No. 11-1, 2 & 3, Jalan Kampung Jawa, Off Bagan Luar, 12000 Butterworth, Pulau Pinang.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer\"},[_c('h1',[_vm._v(\"* All commission calculation based on MYR\")]),_vm._v(\" \"),_c('h1',[_vm._v(\"* Attached with your commission report, please update us if any error before 10th of the Month.\")]),_vm._v(\" \"),_c('h3',[_vm._v(\"* Commission will be credited  to your personal account (Bank Account Details) Before 15th of the Month.\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a27c156\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/performance/performanceDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a27c156\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./performanceDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./performanceDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./performanceDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a27c156\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./performanceDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a27c156\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/performance/performanceDetail.vue\n// module id = null\n// module chunks = ","import request from '@/http/index'\n\n\n/**\n * 我的表現獲取訂單時間\n * @param\n * @returns {*}\n */\nexport function dateApi() {\n  return request({\n    url: '/api/v1/user/performance/date',\n    method: 'get',\n  })\n}\n\n/**\n * 獲取訂單數據根據年月\n * @param\n * @returns {*}\n */\nexport function performanceApi(params) {\n  return request({\n    url: '/api/v1/user/performance',\n    method: 'get',\n    params\n  })\n}\n\nexport function exportApi(params) {\n  return request({\n    url: '/api/v1/user/performance/export',\n    method: 'get',\n    responseType: 'blob',\n    params\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/performance.js"],"sourceRoot":""}