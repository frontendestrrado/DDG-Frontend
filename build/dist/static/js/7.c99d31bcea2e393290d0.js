webpackJsonp([7],{aQlB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),n=a.n(r),o=a("YgNb"),s=a("FWz8"),i={data:function(){return{formData:{trustor_name:"",trustor_date:"",trustor_passport:"",trustor_address:"",trustor_phone:"",third_party_name:"",third_party_date:"",third_party_passport:"",third_party_address:"",third_party_phone:"",third_party_reference_no:"",declaration_third_party:0,client_signature:"",client_name:"",client_passport:"",client_date:"",witness_signature:"",witness_name:"",witness_passport:"",witness_date:"",nationality:"",occupation:"",industry:"",name_of_employer:"",nature_of_business:"",relationship_with_settlor:"",annual_salary_income:"",source_of_wealth:"",source_of_fund:"",name_of_director:"",name_of_shareholder:"",nature_of_business2:"",profit_loss_statement:"",source_of_fund2:"",contributor_name:"",contributor_contact:"",contributor_email:"",others_please_specify:"",relationship_between:""},isShowPicker:!1,currentContent:new Date,whichDate:"",isFilled:"",minDate:new Date(1900,0,1),isDone:!1,isothers_please_specify:!1,isrelationship_between:!1}},mounted:function(){this.isFilled=this.$route.query.isFilled,this.isDone=1==this.$route.query.status,this.getFormData(),this.isDone="2"===sessionStorage.getItem("orderStatus")},methods:{declarationThirdParty:function(e){3===e?(this.isothers_please_specify=!0,this.isrelationship_between=!1):4===e?(this.isrelationship_between=!0,this.isothers_please_specify=!1):(this.isothers_please_specify=!1,this.isrelationship_between=!1)},getFormData:function(){var e=this;this.isFilled>0&&Object(s.f)(this.isFilled,{type:"Third Party Declaration"}).then(function(t){console.log(t),e.formData=t}).catch(function(e){})},submit:function(e){var t=this;if(console.log(e),this.formData.client_signature)if(this.formData.witness_signature){var a=JSON.parse(n()(this.formData));this.isFilled>0?Object(s.j)(this.isFilled,{type:"Third Party Declaration",data:n()(a)}).then(function(e){console.log(e,"修改Third Party Declaration成功"),t.$toast({type:"success",message:"Modify the success"}),t.$router.go(-1)}):Object(s.k)(this.$route.query.orderId,a).then(function(e){t.$toast({type:"success",message:"Submitted successfully"}),t.$router.go(-1)}).catch(function(e){})}else this.$toast.fail("Please sign your name");else this.$toast.fail("Please sign your name")},onShowPicker:function(e){this.isShowPicker=!0,this.whichDate=e},onHiddenPicker:function(){this.currentContent=new Data,this.isShowPicker=!1},onConfirmPicker:function(){this.formData[this.whichDate]=this.formatDateYMD(this.currentContent),this.isShowPicker=!1},formatDateYMD:function(e){if(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1+"-")+t.getDate()}return""},handleReset:function(e){this.$refs[e].reset(),"client_signature"==e&&(this.formData.client_signature=""),"witness_signature"==e&&(this.formData.witness_signature="")},handleGenerate:function(e){var t=this,a=this;this.$refs[e].generate().then(function(r){Object(o.b)({image:r,path:""}).then(function(a){console.log(a),t.formData[e]=a.path,t.$toast.success("Signature success")}).catch(function(e){a.$toast({type:"fail",message:"Uploading picture failed"})})}).catch(function(e){a.$toast({type:"fail",message:e+" No signature！"}),alert(e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ThirdPartyDeclaration bodybox"},[a("van-form",{attrs:{"validate-first":"","submit-on-enter":!1,"scroll-to-error":!0},on:{submit:e.submit}},[a("div",{staticClass:"minTitle"},[e._v("\n      ASIA INTERNATIONAL TRUST BERHAD (Company No.: 199501032473 (361679-H))\n    ")]),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("THIRD-PARTY FUNDS DECLARATION FORM")]),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("\n      To be completed by the Settlor if the Trust Capital Funds for this application is to be funded by\n      anyone other than the Settlor\n    ")]),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Name of Settlor:")]),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Third-Party Details (Individual)")]),e._v(" "),a("van-field",{staticClass:"trustorName",attrs:{name:"trustor_name",center:"",required:!0,type:"text",label:"Name of the Contributor(Individual)",placeholder:"Please enter the Name of the Contributor(Individual)",rules:[{required:!0}]},model:{value:e.formData.trustor_name,callback:function(t){e.$set(e.formData,"trustor_name",t)},expression:"formData.trustor_name"}}),e._v(" "),a("van-field",{attrs:{readonly:"",name:"trustor_date",center:"",required:!0,"right-icon":"arrow",label:"Date of Birth",placeholder:"Please enter the Date of Birth",rules:[{required:!0}]},on:{click:function(t){return e.onShowPicker("trustor_date")}},model:{value:e.formData.trustor_date,callback:function(t){e.$set(e.formData,"trustor_date",t)},expression:"formData.trustor_date"}}),e._v(" "),a("van-field",{attrs:{name:"nationality",center:"",required:!0,type:"text",label:"Nationality ",placeholder:"Please enter the Nationality ",rules:[{required:!0}]},model:{value:e.formData.nationality,callback:function(t){e.$set(e.formData,"nationality",t)},expression:"formData.nationality"}}),e._v(" "),a("van-field",{attrs:{name:"trustor_passport",center:"",required:!0,type:"text",label:"NRIC/Passport No",placeholder:"Please enter the NRIC/Passport No",rules:[{required:!0}]},model:{value:e.formData.trustor_passport,callback:function(t){e.$set(e.formData,"trustor_passport",t)},expression:"formData.trustor_passport"}}),e._v(" "),a("van-field",{attrs:{name:"trustor_address",center:"",required:!0,type:"text",label:"Proof of current Address of the Individual",placeholder:"Please enter the Proof of current Address of the Individual",rules:[{required:!0}]},model:{value:e.formData.trustor_address,callback:function(t){e.$set(e.formData,"trustor_address",t)},expression:"formData.trustor_address"}}),e._v(" "),a("van-field",{attrs:{name:"trustor_phone",center:"",required:!0,type:"text",label:"Contact No",placeholder:"Please enter the Contact No",rules:[{required:!0}]},model:{value:e.formData.trustor_phone,callback:function(t){e.$set(e.formData,"trustor_phone",t)},expression:"formData.trustor_phone"}}),e._v(" "),a("van-field",{attrs:{name:"occupation",center:"",required:!0,type:"text",label:"Occupation",placeholder:"Please enter the Occupation",rules:[{required:!0}]},model:{value:e.formData.occupation,callback:function(t){e.$set(e.formData,"occupation",t)},expression:"formData.occupation"}}),e._v(" "),a("van-field",{attrs:{name:"industry",center:"",required:!0,type:"text",label:"Industry",placeholder:"Please enter the Industry",rules:[{required:!0}]},model:{value:e.formData.industry,callback:function(t){e.$set(e.formData,"industry",t)},expression:"formData.industry"}}),e._v(" "),a("van-field",{attrs:{name:"name_of_employer",center:"",required:!0,type:"text",label:"Name of Employer",placeholder:"Please enter the Name of Employer",rules:[{required:!0}]},model:{value:e.formData.name_of_employer,callback:function(t){e.$set(e.formData,"name_of_employer",t)},expression:"formData.name_of_employer"}}),e._v(" "),a("van-field",{attrs:{name:"nature_of_business",center:"",type:"text",label:"Nature of Business(if Self-Employed)",placeholder:"Please enter the Nature of Business(if Self-Employed)",rules:[{required:!0}]},model:{value:e.formData.nature_of_business,callback:function(t){e.$set(e.formData,"nature_of_business",t)},expression:"formData.nature_of_business"}}),e._v(" "),a("van-field",{attrs:{name:"relationship_with_settlor",center:"",required:!0,type:"text",label:"Relationship with Settlor",placeholder:"Please enter the Relationship with Settlor",rules:[{required:!0}]},model:{value:e.formData.relationship_with_settlor,callback:function(t){e.$set(e.formData,"relationship_with_settlor",t)},expression:"formData.relationship_with_settlor"}}),e._v(" "),a("van-field",{attrs:{name:"annual_salary_income",center:"",required:!0,type:"text",label:"Annual Salary/ Income",placeholder:"Please enter the Annual Salary/ Income",rules:[{required:!0}]},model:{value:e.formData.annual_salary_income,callback:function(t){e.$set(e.formData,"annual_salary_income",t)},expression:"formData.annual_salary_income"}}),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("If Payslip (Item 12) is not available, then please provide:EPF statement/ Unit trust statement/ S&P agreement/ etc ")]),e._v(" "),a("van-field",{attrs:{name:"source_of_wealth",center:"",required:!0,type:"text",label:"Source of Wealth",placeholder:"Please enter the Source of Wealth",rules:[{required:!0}]},model:{value:e.formData.source_of_wealth,callback:function(t){e.$set(e.formData,"source_of_wealth",t)},expression:"formData.source_of_wealth"}}),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Please provide: Bank statement with Name of Bank, Name of Account Holder, Account Number.")]),e._v(" "),a("van-field",{attrs:{name:"source_of_fund",center:"",required:!0,type:"text",label:"Source of Fund(Origin of fund)",placeholder:"Please enter the Source of Fund(Origin of fund)",rules:[{required:!0}]},model:{value:e.formData.source_of_fund,callback:function(t){e.$set(e.formData,"source_of_fund",t)},expression:"formData.source_of_fund"}}),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Third-Party Details (Legal Entity)")]),e._v(" "),a("van-field",{attrs:{name:"third_party_name",center:"",required:!0,type:"text",label:"Name of Contributor(Company/Organisation)",placeholder:"Please enter the Name of Contributor(Company/Organisation)",rules:[{required:!0}]},model:{value:e.formData.third_party_name,callback:function(t){e.$set(e.formData,"third_party_name",t)},expression:"formData.third_party_name"}}),e._v(" "),a("van-field",{attrs:{readonly:"",name:"third_party_date",center:"",required:!0,"right-icon":"arrow",label:"Date of Registration",placeholder:"Please enter the Date of Registration",rules:[{required:!0}]},on:{click:function(t){return e.onShowPicker("third_party_date")}},model:{value:e.formData.third_party_date,callback:function(t){e.$set(e.formData,"third_party_date",t)},expression:"formData.third_party_date"}}),e._v(" "),a("van-field",{attrs:{name:"third_party_passport",center:"",required:!0,type:"text",label:"Company/ Organisation Registration No.",placeholder:"Please enter the Company/ Organisation Registration No.",rules:[{required:!0}]},model:{value:e.formData.third_party_passport,callback:function(t){e.$set(e.formData,"third_party_passport",t)},expression:"formData.third_party_passport"}}),e._v(" "),a("van-field",{attrs:{name:"third_party_phone",center:"",required:!0,type:"text",label:"Company Contact No",placeholder:"Please enter the Company Contact No",rules:[{required:!0}]},model:{value:e.formData.third_party_phone,callback:function(t){e.$set(e.formData,"third_party_phone",t)},expression:"formData.third_party_phone"}}),e._v(" "),a("van-field",{attrs:{name:"third_party_address",center:"",required:!0,type:"text",label:"Proof of current Address of the Company/ Organisation",placeholder:"Please enter the Proof of current Address of the Company/ Organisation",rules:[{required:!0}]},model:{value:e.formData.third_party_address,callback:function(t){e.$set(e.formData,"third_party_address",t)},expression:"formData.third_party_address"}}),e._v(" "),a("van-field",{attrs:{name:"name_of_director",center:"",required:!0,type:"text",label:"Name of Director(s)",placeholder:"Please enter the Name of Director(s)",rules:[{required:!0}]},model:{value:e.formData.name_of_director,callback:function(t){e.$set(e.formData,"name_of_director",t)},expression:"formData.name_of_director"}}),e._v(" "),a("van-field",{attrs:{name:"name_of_shareholder",center:"",required:!0,type:"text",label:"Name of Shareholder(s)",placeholder:"Please enter the Name of Shareholder(s)",rules:[{required:!0}]},model:{value:e.formData.name_of_shareholder,callback:function(t){e.$set(e.formData,"name_of_shareholder",t)},expression:"formData.name_of_shareholder"}}),e._v(" "),a("van-field",{attrs:{name:"nature_of_business2",center:"",required:!0,type:"text",label:"Nature of Business",placeholder:"Please enter the Nature of Business",rules:[{required:!0}]},model:{value:e.formData.nature_of_business2,callback:function(t){e.$set(e.formData,"nature_of_business2",t)},expression:"formData.nature_of_business2"}}),e._v(" "),a("van-field",{attrs:{name:"profit_loss_statement",center:"",required:!0,type:"text",label:"Profit & Loss Statement",placeholder:"Please enter the Profit & Loss Statement",rules:[{required:!0}]},model:{value:e.formData.profit_loss_statement,callback:function(t){e.$set(e.formData,"profit_loss_statement",t)},expression:"formData.profit_loss_statement"}}),e._v(" "),a("van-field",{attrs:{name:"source_of_fund2",center:"",required:!0,type:"text",label:"Source of Fund",placeholder:"Please enter the Source of Fund",rules:[{required:!0}]},model:{value:e.formData.source_of_fund2,callback:function(t){e.$set(e.formData,"source_of_fund2",t)},expression:"formData.source_of_fund2"}}),e._v(" "),a("van-field",{attrs:{name:"third_party_reference_no",center:"",required:!0,type:"text",label:"Relationship with Settlor",placeholder:"Please enter the Relationship with Settlor",rules:[{required:!0}]},model:{value:e.formData.third_party_reference_no,callback:function(t){e.$set(e.formData,"third_party_reference_no",t)},expression:"formData.third_party_reference_no"}}),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Contributor’s Contact Person ")]),e._v(" "),a("van-field",{attrs:{name:"contributor_name",center:"",required:!0,type:"text",label:"Name",placeholder:"Please enter the Name",rules:[{required:!0}]},model:{value:e.formData.contributor_name,callback:function(t){e.$set(e.formData,"contributor_name",t)},expression:"formData.contributor_name"}}),e._v(" "),a("van-field",{attrs:{name:"contributor_contact",center:"",required:!0,type:"text",label:"Contact No",placeholder:"Please enter the Contact No",rules:[{required:!0}]},model:{value:e.formData.contributor_contact,callback:function(t){e.$set(e.formData,"contributor_contact",t)},expression:"formData.contributor_contact"}}),e._v(" "),a("van-field",{attrs:{name:"contributor_email",center:"",required:!0,type:"text",label:"Email",placeholder:"Please enter the Email",rules:[{required:!0}]},model:{value:e.formData.contributor_email,callback:function(t){e.$set(e.formData,"contributor_email",t)},expression:"formData.contributor_email"}}),e._v(" "),a("div",{staticClass:"minTitle"},[e._v("Note: [1] Bank statement with Name of Bank, Name of Account Holder, Account Number")]),e._v(" "),a("van-field",{attrs:{name:"declaration_third_party",label:"Declaration of Third-Party Funds (Please tick √)",required:!0,rules:[{required:!0}]},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-radio-group",{on:{change:e.declarationThirdParty},model:{value:e.formData.declaration_third_party,callback:function(t){e.$set(e.formData,"declaration_third_party",t)},expression:"formData.declaration_third_party"}},[a("van-radio",{attrs:{name:1}},[e._v("Natural love and affection or as gift to me (Settlor)")]),e._v(" "),a("van-radio",{attrs:{name:2}},[e._v("Money owed to me (Settlor)")]),e._v(" "),a("van-radio",{attrs:{name:3}},[e._v("Other, please specify")]),e._v(" "),a("van-field",{attrs:{name:"others_please_specify",center:"",type:"text",label:"",placeholder:"Please enter the Others, please specify",rules:[{required:e.isothers_please_specify}]},model:{value:e.formData.others_please_specify,callback:function(t){e.$set(e.formData,"others_please_specify",t)},expression:"formData.others_please_specify"}}),e._v(" "),a("van-radio",{attrs:{name:4}},[e._v("Relationship between the Settlor and Third-Party")]),e._v(" "),a("van-field",{attrs:{name:"relationship_between",center:"",type:"text",label:"",placeholder:"Please enter the Relationship between the Settlor and Third-Party",rules:[{required:e.isrelationship_between}]},model:{value:e.formData.relationship_between,callback:function(t){e.$set(e.formData,"relationship_between",t)},expression:"formData.relationship_between"}}),e._v(" "),a("van-radio",{attrs:{name:5}},[e._v("All photocopied documents must be verified (i.e. signed, dated, name stated) by the Marketing/ Distributing agent")])],1)]},proxy:!0}])}),e._v(" "),a("div",{staticClass:"tl"},[e._v("Signature of Settlor")]),e._v(" "),a("vue-esign",{directives:[{name:"show",rawName:"v-show",value:!e.formData.client_signature,expression:"!formData.client_signature"}],ref:"client_signature",staticStyle:{border:"1px solid #666"},attrs:{width:1200,height:300,isCrop:!1,lineWidth:6,lineColor:"#000000","bgColor.sync":"#fff"}}),e._v(" "),a("van-image",{directives:[{name:"show",rawName:"v-show",value:e.formData.client_signature,expression:"formData.client_signature"}],staticClass:"esignImgbox",attrs:{width:"100%",height:"20%",src:e.formData.client_signature}}),e._v(" "),a("div",{staticClass:"tr"},[e.isDone?e._e():a("div",{staticClass:"esignBtn",on:{click:function(t){return e.handleReset("client_signature")}}},[e._v("\n        Clear\n      ")]),e._v(" "),e.isDone?e._e():a("div",{staticClass:"esignBtn",on:{click:function(t){return e.handleGenerate("client_signature")}}},[e._v("\n        Confirm\n      ")])]),e._v(" "),a("van-field",{attrs:{name:"client_name",center:"",required:!0,type:"text",label:"Name",placeholder:"Please enter the Name",rules:[{required:!0}]},model:{value:e.formData.client_name,callback:function(t){e.$set(e.formData,"client_name",t)},expression:"formData.client_name"}}),e._v(" "),a("van-field",{attrs:{name:"client_passport",center:"",required:!0,type:"text",label:"NRIC No",placeholder:"Please enter the NRIC No",rules:[{required:!0}]},model:{value:e.formData.client_passport,callback:function(t){e.$set(e.formData,"client_passport",t)},expression:"formData.client_passport"}}),e._v(" "),a("van-field",{attrs:{readonly:"",name:"client_date",center:"",required:!0,"right-icon":"arrow",label:"Date",placeholder:"Please enter the Date",rules:[{required:!0}]},on:{click:function(t){return e.onShowPicker("client_date")}},model:{value:e.formData.client_date,callback:function(t){e.$set(e.formData,"client_date",t)},expression:"formData.client_date"}}),e._v(" "),a("div",{staticClass:"tl"},[e._v("Signature of Trust Advisor as Witness")]),e._v(" "),a("vue-esign",{directives:[{name:"show",rawName:"v-show",value:!e.formData.witness_signature,expression:"!formData.witness_signature"}],ref:"witness_signature",staticStyle:{border:"1px solid #666"},attrs:{width:1200,height:300,isCrop:!1,lineWidth:6,lineColor:"#000000","bgColor.sync":"#fff"}}),e._v(" "),a("van-image",{directives:[{name:"show",rawName:"v-show",value:e.formData.witness_signature,expression:"formData.witness_signature"}],staticClass:"esignImgbox",attrs:{width:"100%",height:"20%",src:e.formData.witness_signature}}),e._v(" "),a("div",{staticClass:"tr"},[e.isDone?e._e():a("div",{staticClass:"esignBtn",on:{click:function(t){return e.handleReset("witness_signature")}}},[e._v("\n        Clear\n      ")]),e._v(" "),e.isDone?e._e():a("div",{staticClass:"esignBtn",on:{click:function(t){return e.handleGenerate("witness_signature")}}},[e._v("\n        Confirm\n      ")])]),e._v(" "),a("van-field",{attrs:{name:"witness_name",center:"",required:!0,type:"text",label:"Name",placeholder:"Please enter the Name",rules:[{required:!0}]},model:{value:e.formData.witness_name,callback:function(t){e.$set(e.formData,"witness_name",t)},expression:"formData.witness_name"}}),e._v(" "),a("van-field",{attrs:{name:"witness_passport",center:"",required:!0,type:"text",label:"NRIC No",placeholder:"Please enter the NRIC No",rules:[{required:!0}]},model:{value:e.formData.witness_passport,callback:function(t){e.$set(e.formData,"witness_passport",t)},expression:"formData.witness_passport"}}),e._v(" "),a("van-field",{attrs:{readonly:"",name:"witness_date",center:"",required:!0,"right-icon":"arrow",label:"Date",placeholder:"Please enter the Date",rules:[{required:!0}]},on:{click:function(t){return e.onShowPicker("witness_date")}},model:{value:e.formData.witness_date,callback:function(t){e.$set(e.formData,"witness_date",t)},expression:"formData.witness_date"}}),e._v(" "),e.isDone?e._e():a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"#7C655D"}},[e._v("\n      Submit\n    ")])],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isShowPicker,callback:function(t){e.isShowPicker=t},expression:"isShowPicker"}},[a("van-datetime-picker",{attrs:{type:"date","min-hour":0,"confirm-button-text":"Confirm","cancel-button-text":"Cancel","min-date":e.minDate},on:{cancel:e.onHiddenPicker,confirm:e.onConfirmPicker},model:{value:e.currentContent,callback:function(t){e.currentContent=t},expression:"currentContent"}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,l,!1,function(e){a("zZbN")},"data-v-e77e3b72",null);t.default=c.exports},zZbN:function(e,t){}});
//# sourceMappingURL=7.c99d31bcea2e393290d0.js.map